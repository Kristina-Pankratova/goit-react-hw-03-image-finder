{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","utils/imgFinderApi.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","className","s","searchbar","searchForm","this","type","searchFormButton","searchFormButtonLabel","searchFormInput","name","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","imgList","onClickModal","map","id","webformatURL","tags","largeImageURL","imageGalleryItem","src","alt","onClick","srcSet","galleryItemImage","ImageGallery","imageGallery","Button","searchQuery","currentPage","axios","get","then","response","data","hits","Modal","handleBackdropClick","target","onClose","handleKeydown","console","log","code","window","addEventListener","removeEventListener","overlay","children","modal","largeImage","LoaderComponent","color","height","width","timeout","App","srcset","isLoading","showModal","error","onChangeQuery","fetchHits","options","imgApi","prevState","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","toggleModal","setLargeImage","largeImg","prevProps","Loader","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9e13190e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1N7y_\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__nU27_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__Pn5DZ\",\"modal\":\"Modal_modal__33RGO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3khAz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1G-5A\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form className={s.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.searchFormButton}>\r\n            <span className={s.searchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.searchFormInput}\r\n            type=\"text\"\r\n            name={this.state.query}\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ imgList, onClickModal }) {\r\n  return imgList.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n    <li key={id} className={s.imageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        onClick={onClickModal}\r\n        srcSet={largeImageURL}\r\n        className={s.galleryItemImage}\r\n      />\r\n    </li>\r\n  ));\r\n}\r\n\r\nImageGalleryItem.propTypes = PropTypes.shape({\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClickModal: PropTypes.func.isRequired,\r\n}).isRequired;\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\nexport default function ImageGallery({ imgList, onClickModal }) {\r\n  return (\r\n    <ul className={s.imageGallery}>\r\n      <ImageGalleryItem imgList={imgList} onClickModal={onClickModal} />\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = PropTypes.shape({\r\n  imgList: PropTypes.array.isRequired,\r\n  onClickModal: PropTypes.func.isRequired,\r\n}).isRequired;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button className={s.Button} type=\"button\" onClick={() => onClick()}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import axios from 'axios';\r\n\r\nconst KEY = '20900619-dafda001e6b1a08a6ce834e06';\r\nconst BASE_URL =\r\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12&';\r\n\r\nconst fetchHits = ({ searchQuery = '', currentPage = 1 }) => {\r\n  return axios\r\n    .get(`${BASE_URL}&key=${KEY}&q=${searchQuery}&page=${currentPage}`)\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default { fetchHits };\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    console.log('Modal componentDidMount');\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleKeydown = e => {\r\n    console.log(e.code);\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n        <div>{this.props.children}</div>\r\n        <div className={s.modal}>\r\n          <img src={this.props.largeImage} alt={this.props.alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = PropTypes.shape({\r\n  src: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  children: PropTypes.element,\r\n}).isRequired;\r\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst LoaderComponent = () => (\r\n  <div className=\"Spiner\">\r\n    <div className=\"Block\">\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#097940\"\r\n        height={50}\r\n        width={50}\r\n        timeout={3000} //3 secs\r\n      />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default LoaderComponent;\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport imgApi from '../src/utils/imgFinderApi';\nimport Modal from './components/Modal/Modal';\nimport LoaderComponent from './components/Loader/Loader';\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    srcset: '',\n    alt: '',\n    isLoading: false,\n    showModal: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchHits();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, currentPage: 1, hits: [] });\n  };\n\n  fetchHits = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n\n    this.setState({ isLoading: true });\n\n    imgApi\n      .fetchHits(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n        this.setState({ isLoading: false });\n      });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  setLargeImage = e => {\n    this.setState({\n      largeImg: e.currentTarget.srcset,\n      alt: e.currentTarget.alt,\n    });\n    // console.dir(event.currentTarget);\n    this.toggleModal();\n  };\n\n  render() {\n    const { hits, isLoading, showModal, largeImg, alt } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        {showModal && (\n          <Modal onClose={this.toggleModal} largeImage={largeImg} alt={alt} />\n        )}\n\n        <ImageGallery imgList={hits} onClickModal={this.setLargeImage} />\n        {isLoading && <LoaderComponent />}\n        {hits.length > 0 && <Button onClick={this.fetchHits} />}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3ukeR\",\"searchForm\":\"Searchbar_searchForm__2EjwV\",\"searchFormButton\":\"Searchbar_searchFormButton__q0-p0\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__10hRG\",\"searchFormInput\":\"Searchbar_searchFormInput__1-KXT\"};"],"sourceRoot":""}